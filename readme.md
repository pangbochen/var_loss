Var loss

risk control use

任务：
- classification
- regression

## Regression

建立多因子模型对股票进行建模

直接预测股票的收益

模型的loss即为真实收益和预测收益之间的差值

## Classification

进行分类问题

根据股票的收益情况给每个数据记录打上类别标签

单纯的直接预测收益有较大的误差，并且容易受到极端数据影响，也容易过拟合

1. 二分类
- 涨
- 跌

2. 多分类问题
比如三分类的问题，按照20%，60%，20%这几个分位数划分类别

具体做法而言：
- 每日的情况每一天分别划分类别
- 一段时间内的分位数

那么可以分为三类
- 涨
- 波动
- 跌

同时分类模型也有不同的实现与视角
- 基于回归问题的分类：模型先对record进行打分，之后由分数按照上述的规则进行类别的划分，这样loss使用分类任务的loss，并且可以用模型输出的score得到rank_ic等指标
- 基于分类问题的分类：模型直接得到record在不同类别上的概率分布，再得到具体的，loss使用分类问题的loss，合理的model评测指标时AUC的分类指标，二分类与多分类的准确率问题，但是无法得到rank_ic指标值
第二种无法得到rank_ic的原因是模型直接给出的分类的类别或者record数据在不同类别上的概率，并不会给出直接的打分
    
    label generator
    打分机制
    ic_rank

## weight机制
每个样本赋予不同的权重，让模型对特定样本有更好的区分能力

GBDT的机制

NN的机制

不同的机制会产生不同的情况

## 过拟合

### 评估过拟合
首先需要定义什么是过拟合

接着如何评估过拟合的程度

很多时候模型在train和validate上表现良好，但是在test上效果很差

### 解决过拟合

- 正则项的使用，在loss函数中引入这一点
- 参数设计，模型复杂度

GBDT_like:目标函数中加入了正则项，从降低模型复杂度的角度避免了过拟合
- xgboost:参数的调控
